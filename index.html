<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/bunsass/busn/refs/heads/main/asset/Sticker_PPG_24_Evernight_02.ico">
  <title>My Profile</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Cormorant Garamond", serif;
      background: #0a0a0f;
      color: #c8c8d4;
      overflow-x: hidden;
      position: relative;
    }

    /* Animated Starfield Background */
    .starfield {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -3;
      background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle linear infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
    }

    /* Floating Particles */
    .particle {
      position: fixed;
      background: rgba(138, 116, 249, 0.4);
      border-radius: 50%;
      pointer-events: none;
      animation: float linear infinite;
      z-index: -1;
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.6;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    /* Header */
    header {
      text-align: center;
      padding: 60px 20px;
      position: relative;
    }

    .main-title {
      font-family: "Cinzel", serif;
      font-size: 4rem;
      font-weight: 700;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(102, 126, 234, 0.5);
      margin-bottom: 15px;
      letter-spacing: 3px;
      animation: glow 3s ease-in-out infinite;
    }

    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.4)); }
      50% { filter: drop-shadow(0 0 20px rgba(118, 75, 162, 0.6)); }
    }

    .subtitle {
      font-size: 1.4rem;
      color: #9b9baf;
      font-style: italic;
      letter-spacing: 2px;
    }

    /* Glitch Text Effect */
    .glitch-text {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin: 30px 0;
      font-size: 2.5rem;
      font-weight: 600;
    }

    .glitch-char {
      display: inline-block;
      animation: glitchFloat 4s ease-in-out infinite;
      background: linear-gradient(180deg, #a78bfa, #c084fc, #e879f9);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(167, 139, 250, 0.3);
    }

    @keyframes glitchFloat {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-10px) rotate(2deg); }
      75% { transform: translateY(10px) rotate(-2deg); }
    }

    /* Card Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .card {
      background: linear-gradient(135deg, 
        rgba(25, 20, 50, 0.8) 0%,
        rgba(35, 25, 70, 0.7) 50%,
        rgba(25, 20, 50, 0.8) 100%
      );
      backdrop-filter: blur(20px);
      border: 1px solid rgba(138, 116, 249, 0.3);
      border-radius: 20px;
      padding: 35px;
      margin: 30px 0;
      box-shadow: 
        0 10px 40px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(138, 116, 249, 0.2);
      transition: all 0.4s ease;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, transparent, #8a74f9, transparent);
      animation: scan 3s linear infinite;
    }

    @keyframes scan {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 
        0 15px 50px rgba(138, 116, 249, 0.3),
        inset 0 1px 0 rgba(138, 116, 249, 0.3);
      border-color: rgba(138, 116, 249, 0.5);
    }

    .card-title {
      font-family: "Cinzel", serif;
      font-size: 2rem;
      color: #a78bfa;
      margin-bottom: 20px;
      text-align: center;
      letter-spacing: 2px;
      text-shadow: 0 0 15px rgba(167, 139, 250, 0.4);
    }

    .card p, .card li {
      font-size: 1.1rem;
      line-height: 1.8;
      color: #c8c8d4;
      margin: 12px 0;
    }

    .card a {
      color: #c084fc;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      position: relative;
    }

    .card a::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, #a78bfa, #c084fc);
      transition: width 0.3s ease;
    }

    .card a:hover::after {
      width: 100%;
    }

    .card a:hover {
      color: #e879f9;
      text-shadow: 0 0 10px rgba(232, 121, 249, 0.5);
    }

    .contact-list {
      list-style: none;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .contact-list li {
      background: rgba(138, 116, 249, 0.1);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid rgba(138, 116, 249, 0.2);
      transition: all 0.3s ease;
    }

    .contact-list li:hover {
      background: rgba(138, 116, 249, 0.2);
      transform: translateX(5px);
      border-color: rgba(138, 116, 249, 0.4);
    }

    /* HSR Profile Styles */
    .loading-spinner {
      text-align: center;
      padding: 40px 20px;
    }

    .spinner {
      width: 50px;
      height: 50px;
      margin: 0 auto 20px;
      border: 4px solid rgba(167, 139, 250, 0.2);
      border-top: 4px solid #a78bfa;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .hsr-profile {
      display: grid;
      gap: 20px;
    }

    .profile-header {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 20px;
      background: rgba(138, 116, 249, 0.1);
      border-radius: 15px;
      border: 1px solid rgba(138, 116, 249, 0.2);
    }

    .profile-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 3px solid #a78bfa;
      box-shadow: 0 0 20px rgba(167, 139, 250, 0.5);
    }

    .profile-info h3 {
      font-family: "Cinzel", serif;
      color: #c084fc;
      font-size: 1.5rem;
      margin-bottom: 8px;
    }

    .uid-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 5px;
    }

    .copy-uid-btn {
      padding: 5px 12px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: "Cormorant Garamond", serif;
      font-size: 0.85rem;
    }

    .copy-uid-btn:hover {
      background: linear-gradient(135deg, #764ba2, #f093fb);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .copy-uid-btn.copied {
      background: linear-gradient(135deg, #10b981, #059669);
    }

    .profile-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .stat-box {
      background: rgba(138, 116, 249, 0.1);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid rgba(138, 116, 249, 0.2);
      text-align: center;
      transition: all 0.3s ease;
    }

    .stat-box:hover {
      background: rgba(138, 116, 249, 0.2);
      transform: translateY(-3px);
      border-color: rgba(138, 116, 249, 0.4);
    }

    .stat-label {
      font-size: 0.9rem;
      color: #9b9baf;
      margin-bottom: 5px;
    }

    .stat-value {
      font-size: 1.4rem;
      font-weight: 600;
      color: #c084fc;
    }

    .characters-showcase {
      margin-top: 25px;
    }

    .characters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .character-card {
      background: rgba(138, 116, 249, 0.1);
      border: 2px solid rgba(138, 116, 249, 0.2);
      border-radius: 12px;
      padding: 12px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      text-decoration: none;
      display: block;
    }

    .character-card::before {
      content: 'Click to view build';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(138, 116, 249, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
      font-size: 0.85rem;
      opacity: 0;
      transition: opacity 0.3s ease;
      border-radius: 12px;
      z-index: 1;
    }

    .character-card:hover {
      background: rgba(138, 116, 249, 0.2);
      border-color: rgba(138, 116, 249, 0.5);
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 10px 25px rgba(138, 116, 249, 0.3);
    }

    .character-card:hover::before {
      opacity: 1;
    }

    .character-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 2px solid #a78bfa;
      margin: 0 auto 10px;
      box-shadow: 0 0 15px rgba(167, 139, 250, 0.4);
    }

    .character-name {
      font-size: 0.9rem;
      color: #c8c8d4;
      margin-bottom: 5px;
      font-weight: 600;
    }

    .character-level {
      font-size: 0.85rem;
      color: #c084fc;
    }

    .error-message {
      text-align: center;
      padding: 40px 20px;
      color: #f093fb;
    }

    .retry-btn {
      padding: 10px 20px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: "Cormorant Garamond", serif;
      font-size: 1rem;
      margin-top: 15px;
    }

    .retry-btn:hover {
      background: linear-gradient(135deg, #764ba2, #f093fb);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    /* Music Player */
    .music-player {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }

    .moon-disk {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: linear-gradient(135deg, #4c1d95, #7c3aed, #a78bfa);
      border: 3px solid rgba(167, 139, 250, 0.5);
      box-shadow: 
        0 0 30px rgba(167, 139, 250, 0.5),
        inset 0 0 20px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      transition: all 0.4s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      position: relative;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      user-select: none;
      -webkit-user-select: none;
    }

    .moon-disk::before {
      content: '';
      width: 100%;
      height: 100%;
      background-image: url('https://raw.githubusercontent.com/bunsass/busn/main/asset/2229438d735a893d8f80cd69f4319678.png');
      background-size: cover;
      background-position: center;
      border-radius: 50%;
      display: block;
      animation: moonGlow 3s ease-in-out infinite;
    }

    @keyframes moonGlow {
      0%, 100% { 
        filter: brightness(1) drop-shadow(0 0 10px rgba(255, 255, 255, 0.5)); 
      }
      50% { 
        filter: brightness(1.2) drop-shadow(0 0 25px rgba(167, 139, 250, 0.8)); 
      }
    }

    .moon-disk.playing {
      animation: moonRotate 20s linear infinite;
      box-shadow: 0 0 50px rgba(167, 139, 250, 0.8);
    }

    @keyframes moonRotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .moon-disk:hover {
      transform: scale(1.1);
      box-shadow: 0 0 40px rgba(167, 139, 250, 0.7);
    }

    /* Music Controls */
    .music-controls {
      position: fixed;
      bottom: 30px;
      right: 120px;
      background: rgba(25, 20, 50, 0.95);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(138, 116, 249, 0.3);
      border-radius: 15px;
      padding: 20px;
      display: none;
      flex-direction: column;
      gap: 15px;
      min-width: 250px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
      z-index: 999;
    }

    .music-controls.show {
      display: flex;
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .music-controls label {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #a78bfa;
      font-weight: 600;
    }

    .music-controls input[type="range"] {
      width: 100%;
      accent-color: #a78bfa;
      cursor: pointer;
    }

    .control-buttons {
      display: flex;
      gap: 8px;
      justify-content: space-between;
    }

    .control-btn {
      flex: 1;
      padding: 10px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: "Cormorant Garamond", serif;
      font-size: 0.95rem;
    }

    .control-btn:hover {
      background: linear-gradient(135deg, #764ba2, #f093fb);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    /* Song Info */
    .song-info {
      position: fixed;
      bottom: 110px;
      right: 30px;
      background: rgba(25, 20, 50, 0.95);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(138, 116, 249, 0.3);
      border-radius: 10px;
      padding: 15px 20px;
      color: #c8c8d4;
      max-width: 300px;
      display: none;
      font-size: 0.95rem;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
      z-index: 998;
    }

    .song-info.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Spotify Embed Styling */
    .spotify-section {
      margin: 40px 0;
    }

    .spotify-embed {
      background: rgba(29, 185, 84, 0.1);
      border: 1px solid rgba(29, 185, 84, 0.3);
      border-radius: 15px;
      padding: 15px;
      transition: all 0.3s ease;
    }

    .spotify-embed:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(29, 185, 84, 0.2);
      border-color: rgba(29, 185, 84, 0.5);
    }

    /* Decorative Moon Phases */
    .moon-phases {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 15px;
      z-index: 10;
      opacity: 0.3;
    }

    .moon-phase {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #a78bfa, #4c1d95);
      box-shadow: 0 0 15px rgba(167, 139, 250, 0.3);
      animation: pulseMoon 4s ease-in-out infinite;
    }

    @keyframes pulseMoon {
      0%, 100% { transform: scale(1); opacity: 0.3; }
      50% { transform: scale(1.2); opacity: 0.6; }
    }

    /* Decorative Images */
    .decoration-img {
      position: fixed;
      z-index: -1;
      opacity: 0.4;
      pointer-events: none;
      filter: drop-shadow(0 0 20px rgba(138, 116, 249, 0.3));
      animation: floatImage 6s ease-in-out infinite;
    }

    @keyframes floatImage {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(3deg); }
    }

    .decoration-img.top-left {
      top: 5%;
      left: 3%;
      width: 320px;
      animation-delay: 0s;
    }

    .decoration-img.top-right {
      top: 3%;
      right: 3%;
      width: 340px;
      animation-delay: 1s;
    }

    .decoration-img.bottom-left {
      bottom: 5%;
      left: 2%;
      width: 300px;
      animation-delay: 2s;
    }

    .decoration-img.bottom-right {
      bottom: 3%;
      right: 2%;
      width: 330px;
      animation-delay: 1.5s;
    }

    .decoration-img.center {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 500px;
      max-width: 80vw;
      max-height: 80vh;
      opacity: 0.15;
      z-index: -2;
      animation: centerPulse 8s ease-in-out infinite;
    }

    @keyframes centerPulse {
      0%, 100% { 
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.15;
      }
      50% { 
        transform: translate(-50%, -50%) scale(1.05);
        opacity: 0.2;
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .main-title {
        font-size: 2.5rem;
      }

      .glitch-text {
        font-size: 1.8rem;
      }

      .card {
        padding: 25px;
      }

      .contact-list {
        grid-template-columns: 1fr;
      }

      .moon-phases {
        display: none;
      }

      .music-player {
        bottom: 20px;
        right: 20px;
      }

      .moon-disk {
        width: 65px;
        height: 65px;
      }

      .music-controls {
        right: 95px;
        bottom: 20px;
        min-width: 200px;
        padding: 15px;
      }

      .song-info {
        bottom: 95px;
        right: 20px;
        max-width: 250px;
        font-size: 0.85rem;
      }

      .decoration-img:not(.center) {
        display: none;
      }

      .decoration-img.center {
        width: 70%;
        opacity: 0.1;
      }

      .profile-header {
        flex-direction: column;
        text-align: center;
      }

      .uid-container {
        justify-content: center;
      }

      .characters-grid {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 10px;
      }

      .character-icon {
        width: 60px;
        height: 60px;
      }
    }
  </style>
</head>
<body>
  <!-- Starfield Background -->
  <div class="starfield" id="starfield"></div>

  <!-- Moon Phases Decoration -->
  <div class="moon-phases">
    <div class="moon-phase" style="animation-delay: 0s;"></div>
    <div class="moon-phase" style="animation-delay: 1s;"></div>
    <div class="moon-phase" style="animation-delay: 2s;"></div>
  </div>

  <!-- Header -->
  <header>
    <h1 class="main-title">EVERNIGHT CHRONICLES</h1>
    <p class="subtitle">Where Shadows Dance with Stars</p>
    <div class="glitch-text" id="glitch-name"></div>
  </header>

  <!-- Main Content -->
  <div class="container">
    <!-- Featured Song Card -->
    <div class="card spotify-section">
      <h2 class="card-title">✨ Featured Track</h2>
      <div class="spotify-embed">
        <iframe style="border-radius:12px" 
                src="https://open.spotify.com/embed/track/03mRFDkmdcLpdAcZtqfESL?utm_source=generator" 
                width="100%" 
                height="152" 
                frameBorder="0" 
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
                loading="lazy">
        </iframe>
      </div>
    </div>

    <!-- Profile Info Card -->
    <div class="card">
      <h2 class="card-title">🌙 My Personal Info</h2>
      <p><strong>Name:</strong> Bui Minh Triet, Buns</p>
      <p><strong>Birth Date:</strong> 05/07/2011</p>
      <p><strong>Location:</strong> Dalat, Vietnam</p>
    </div>

    <!-- Contact Card -->
    <div class="card">
      <h2 class="card-title">💬 Contact Me</h2>
      <ul class="contact-list">
        <li><strong>Discord:</strong> <a href="https://discord.com/users/1003100550700748871">bunshevid_oguri</a></li>
        <li><strong>Email:</strong> <a href="mailto:buiminhtriet57@gmail.com">click to email me :)</a></li>
        <li><strong>GitHub:</strong> <a href="https://github.com/bunsass">@Bunsass</a></li>
        <li><strong>Facebook:</strong> <a href="https://www.facebook.com/bunsass/">@ブンサス</a></li>
      </ul>
    </div>

    <!-- Biography Card -->
    <div class="card">
      <h2 class="card-title">📜 About Me</h2>
      <p>
        Greetings, wanderer of the night. I am a seeker of knowledge, dwelling in the realm between dusk and dawn. 
        My journey through the digital cosmos has led me to explore the mysteries of code, the art of creation, 
        and the endless possibilities that lie within the shadows of technology. When not crafting digital experiences, 
        I find solace in the embrace of music and the adventures found in virtual realms.
      </p>
    </div>

    <!-- Honkai Star Rail Profile Card -->
    <div class="card" id="hsrProfileCard">
      <h2 class="card-title">⭐ Honkai: Star Rail Profile</h2>
      <div id="hsrContent">
        <div class="loading-spinner">
          <div class="spinner"></div>
          <p>Loading Trailblazer data...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Music Player -->
  <div class="music-player">
    <div class="moon-disk" id="moonDisk"></div>
    <audio id="bgMusic"></audio>
  </div>

  <!-- Song Info Box -->
  <div class="song-info" id="songInfo">
    <span id="songName">No song playing</span>
  </div>

  <!-- Music Controls -->
  <div class="music-controls" id="musicControls">
    <label>
      🔊 Volume
      <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.7">
    </label>
    <div class="control-buttons">
      <button class="control-btn" id="prevBtn">⮜ Prev</button>
      <button class="control-btn" id="playBtn">▶ Play</button>
      <button class="control-btn" id="nextBtn">⮞ Next</button>
    </div>
  </div>

  <!-- Decorative Images (4 corners + 1 center) -->
  <img class="decoration-img top-left" 
       src="https://github.com/bunsass/busn/raw/main/asset/Character_Evernight_Eidolon_3.webp" 
       alt="Decoration 1" />
  <img class="decoration-img top-right" 
       src="https://github.com/bunsass/busn/raw/main/asset/Character_Evernight_Eidolon_2.webp" 
       alt="Decoration 2" />
  <img class="decoration-img bottom-left" 
       src="https://github.com/bunsass/busn/raw/main/asset/Character_Evernight_Eidolon_6.webp" 
       alt="Decoration 3" />
  <img class="decoration-img bottom-right" 
       src="https://github.com/bunsass/busn/raw/main/asset/Character_Evernight_Eidolon_5.webp" 
       alt="Decoration 4" />
  <img class="decoration-img center" 
       src="https://github.com/bunsass/busn/raw/main/asset/Sticker_PPG_24_Evernight_03.webp" 
       alt="Center Background" />


  <script>
    // Starfield Generation
    const starfield = document.getElementById('starfield');
    for (let i = 0; i < 200; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      star.style.width = star.style.height = Math.random() * 3 + 'px';
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 100 + '%';
      star.style.animationDuration = (Math.random() * 3 + 2) + 's';
      star.style.animationDelay = Math.random() * 3 + 's';
      starfield.appendChild(star);
    }

    // Floating Particles
    function createParticle() {
      const particle = document.createElement('div');
      particle.className = 'particle';
      const size = Math.random() * 8 + 3;
      particle.style.width = particle.style.height = size + 'px';
      particle.style.left = Math.random() * 100 + '%';
      particle.style.animationDuration = (Math.random() * 15 + 10) + 's';
      particle.style.animationDelay = Math.random() * 5 + 's';
      document.body.appendChild(particle);
      setTimeout(() => particle.remove(), 25000);
    }
    setInterval(createParticle, 300);

    // Glitch Text Effect
    const glitchName = document.getElementById('glitch-name');
    const name = 'EVERNIGHT';
    name.split('').forEach((char, i) => {
      const span = document.createElement('span');
      span.className = 'glitch-char';
      span.textContent = char;
      span.style.animationDelay = (i * 0.2) + 's';
      glitchName.appendChild(span);
    });

    // Music Player System
    const songs = [
      {
        name: "Time To Love",
        src: "https://raw.githubusercontent.com/bunsass/busn/main/asset/Time%20To%20Love.mp3"
      },
      {
        name: "Had I Not Seen the Sun",
        src: "https://raw.githubusercontent.com/bunsass/busn/main/asset/Had%20I%20Not%20Seen%20the%20Sun.mp3"
      },
      {
        name: "If I Can Stop One Heart From Breaking",
        src: "https://raw.githubusercontent.com/bunsass/busn/main/asset/If%20I%20Can%20Stop%20One%20Heart%20From%20Breaking.mp3"
      }
    ];

    let currentSong = 0;
    const audio = document.getElementById('bgMusic');
    const moonDisk = document.getElementById('moonDisk');
    const songInfo = document.getElementById('songInfo');
    const songName = document.getElementById('songName');
    const controls = document.getElementById('musicControls');
    const volumeSlider = document.getElementById('volumeSlider');
    const playBtn = document.getElementById('playBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');

    audio.volume = 0.7;

    // Mobile detection
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    let lastTap = 0;
    let tapTimeout = null;

    function loadSong(index) {
      audio.src = songs[index].src;
      songName.textContent = songs[index].name;
    }

    function playSong() {
      audio.play().catch(err => {
        console.log('Play error:', err);
      });
      moonDisk.classList.add('playing');
      songInfo.classList.add('show');
    }

    function pauseSong() {
      audio.pause();
      moonDisk.classList.remove('playing');
    }

    function togglePlay() {
      if (audio.paused) {
        if (!audio.src) loadSong(currentSong);
        playSong();
      } else {
        pauseSong();
      }
    }

    function nextSong() {
      currentSong = (currentSong + 1) % songs.length;
      loadSong(currentSong);
      playSong();
    }

    // Enhanced mobile tap handling
    if (isMobile) {
      moonDisk.addEventListener('touchstart', (e) => {
        e.preventDefault();
        const currentTime = new Date().getTime();
        const tapLength = currentTime - lastTap;
        
        clearTimeout(tapTimeout);
        
        if (tapLength < 500 && tapLength > 0) {
          // Double tap detected
          nextSong();
        } else {
          // Single tap - wait to see if double tap coming
          tapTimeout = setTimeout(() => {
            togglePlay();
          }, 300);
        }
        
        lastTap = currentTime;
      }, { passive: false });

      // Show controls on long press
      let longPressTimer;
      moonDisk.addEventListener('touchstart', (e) => {
        longPressTimer = setTimeout(() => {
          controls.classList.add('show');
        }, 500);
      });

      moonDisk.addEventListener('touchend', () => {
        clearTimeout(longPressTimer);
      });

      moonDisk.addEventListener('touchmove', () => {
        clearTimeout(longPressTimer);
      });

      // Close controls when tapping outside
      document.addEventListener('touchstart', (e) => {
        if (!controls.contains(e.target) && !moonDisk.contains(e.target)) {
          controls.classList.remove('show');
        }
      });
    } else {
      // Desktop click handlers
      moonDisk.addEventListener('click', togglePlay);

      moonDisk.addEventListener('dblclick', (e) => {
        e.preventDefault();
        nextSong();
      });

      // Desktop hover logic
      let controlTimeout;
      moonDisk.addEventListener('mouseenter', () => {
        clearTimeout(controlTimeout);
        controls.classList.add('show');
      });

      moonDisk.addEventListener('mouseleave', () => {
        controlTimeout = setTimeout(() => {
          if (!controls.matches(':hover')) {
            controls.classList.remove('show');
          }
        }, 300);
      });

      controls.addEventListener('mouseenter', () => {
        clearTimeout(controlTimeout);
      });

      controls.addEventListener('mouseleave', () => {
        controls.classList.remove('show');
      });
    }
    audio.addEventListener('ended', () => {
      currentSong = (currentSong + 1) % songs.length;
      loadSong(currentSong);
      playSong();
    });

    volumeSlider.addEventListener('input', (e) => {
      audio.volume = e.target.value;
    });

    playBtn.addEventListener('click', togglePlay);

    prevBtn.addEventListener('click', () => {
      currentSong = (currentSong - 1 + songs.length) % songs.length;
      loadSong(currentSong);
      playSong();
    });

    nextBtn.addEventListener('click', nextSong);

    // Honkai Star Rail Profile System
    const hsrContent = document.getElementById('hsrContent');
    
    // Default UID - auto-loads on page load
    const defaultUID = '832796099';

    async function fetchHSRProfile(uid) {
      try {
        hsrContent.innerHTML = `
          <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Loading Trailblazer data...</p>
          </div>
        `;

        // Use CORS proxy to bypass CORS restrictions
        const corsProxy = 'https://api.allorigins.win/raw?url=';
        const apiUrl = `https://enka.network/api/hsr/uid/${uid}`;
        const response = await fetch(corsProxy + encodeURIComponent(apiUrl));
        
        if (!response.ok) {
          throw new Error('Failed to fetch profile');
        }

        const data = await response.json();
        displayProfile(data, uid);
      } catch (error) {
        console.error('Error fetching HSR profile:', error);
        hsrContent.innerHTML = `
          <div class="error-message">
            <p>⚠️ Could not load profile. Please try again.</p>
            <p style="font-size: 0.9rem; color: #9b9baf; margin-top: 10px;">
              Make sure your profile is set to public in-game.
            </p>
            <button class="retry-btn" onclick="fetchHSRProfile('${uid}')">🔄 Retry</button>
          </div>
        `;
      }
    }

    function copyUID(uid) {
      navigator.clipboard.writeText(uid).then(() => {
        const btn = document.getElementById('copyUIDBtn');
        const originalText = btn.textContent;
        btn.textContent = '✓ Copied!';
        btn.classList.add('copied');
        
        setTimeout(() => {
          btn.textContent = originalText;
          btn.classList.remove('copied');
        }, 2000);
      }).catch(err => {
        console.error('Failed to copy:', err);
        alert('UID: ' + uid);
      });
    }

    function displayProfile(data, uid) {
      const player = data.detailInfo;
      const characters = data.detailInfo.avatarDetailList || [];

      // Sort characters by level and rarity
      const sortedChars = characters
        .slice(0, 8)
        .sort((a, b) => b.level - a.level);

      hsrContent.innerHTML = `
        <div class="hsr-profile">
          <div class="profile-header">
            <img src="https://enka.network/ui/hsr/SpriteOutput/AvatarRoundIcon/Avatar/1409.png" 
                 alt="Profile Avatar" 
                 class="profile-avatar"
                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22%3E%3Crect fill=%22%23a78bfa%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%22 y=%2250%22 font-size=%2224%22 fill=%22white%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22%3EHSR%3C/text%3E%3C/svg%3E'">
            <div class="profile-info">
              <h3>${player.nickname || 'Trailblazer'}</h3>
              <div class="uid-container">
                <p style="color: #9b9baf;">UID: ${player.uid}</p>
                <button class="copy-uid-btn" id="copyUIDBtn" onclick="copyUID('${player.uid}')">📋 Copy</button>
              </div>
              <p style="color: #c084fc; margin-top: 5px;">${player.signature || 'May this journey lead us starward.'}</p>
            </div>
          </div>

          <div class="profile-stats">
            <div class="stat-box">
              <div class="stat-label">Trailblaze Level</div>
              <div class="stat-value">${player.level || 0}</div>
            </div>
            <div class="stat-box">
              <div class="stat-label">Characters</div>
              <div class="stat-value">${player.recordInfo?.avatarCount || 0}</div>
            </div>
            <div class="stat-box">
              <div class="stat-label">Achievements</div>
              <div class="stat-value">${player.recordInfo?.achievementCount || 0}</div>
            </div>
            <div class="stat-box">
              <div class="stat-label">Simulated Universe</div>
              <div class="stat-value">${player.recordInfo?.maxRogueChallengeScore || 0}</div>
            </div>
          </div>

          ${sortedChars.length > 0 ? `
            <div class="characters-showcase">
              <h3 style="color: #a78bfa; font-family: 'Cinzel', serif; margin-bottom: 10px; text-align: center;">
                Featured Characters
              </h3>
              <div class="characters-grid">
                ${sortedChars.map(char => `
                  <a href="https://enka.network/hsr/${uid}/" target="_blank" class="character-card">
                    <img src="https://enka.network/ui/hsr/SpriteOutput/AvatarRoundIcon/${char.avatarId}.png" 
                         alt="${getCharacterName(char.avatarId)}" 
                         class="character-icon"
                         onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2280%22 height=%2280%22%3E%3Ccircle cx=%2240%22 cy=%2240%22 r=%2240%22 fill=%22%23764ba2%22/%3E%3Ctext x=%2240%22 y=%2240%22 font-size=%2220%22 fill=%22white%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22%3E%3F%3C/text%3E%3C/svg%3E'">
                    <div class="character-name">${getCharacterName(char.avatarId)}</div>
                    <div class="character-level">Lv. ${char.level}</div>
                  </a>
                `).join('')}
              </div>
            </div>
          ` : ''}
        </div>
      `;
    }

    function getCharacterName(avatarId) {
      // Complete character ID to name mapping
      const names = {
        '1001': 'March 7th',
        '1002': 'Dan Heng',
        '1003': 'Himeko',
        '1004': 'Welt',
        '1005': 'Kafka',
        '1006': 'Silver Wolf',
        '1008': 'Arlan',
        '1009': 'Asta',
        '1013': 'Herta',
        '1101': 'Bronya',
        '1102': 'Seele',
        '1103': 'Serval',
        '1104': 'Gepard',
        '1105': 'Natasha',
        '1106': 'Pela',
        '1107': 'Clara',
        '1108': 'Sampo',
        '1109': 'Hook',
        '1110': 'Lynx',
        '1111': 'Luka',
        '1112': 'Topaz',
        '1201': 'Qingque',
        '1202': 'Tingyun',
        '1203': 'Luocha',
        '1204': 'Jing Yuan',
        '1205': 'Blade',
        '1206': 'Sushang',
        '1207': 'Yukong',
        '1208': 'Fu Xuan',
        '1209': 'Yanqing',
        '1210': 'Guinaifen',
        '1211': 'Bailu',
        '1212': 'Jingliu',
        '1213': 'Dan Heng IL',
        '1214': 'Xueyi',
        '1215': 'Hanya',
        '1217': 'Huohuo',
        '1220': 'Feixiao',
        '1302': 'Argenti',
        '1303': 'Ruan Mei',
        '1305': 'Dr. Ratio',
        '1306': 'Sparkle',
        '1307': 'Black Swan',
        '1308': 'Acheron',
        '1309': 'Robin',
        '1310': 'Firefly',
        '1312': 'Misha',
        '1313': 'Sunday',
        '1315': 'Boothill',
        '1403': 'Tribbie',
        '1407': 'Castorice',
        '1409': 'Hyacine',
        '1413': 'Evernight',
        '8001': 'Trailblazer',
        '8002': 'Trailblazer',
        '8003': 'Trailblazer',
        '8004': 'Trailblazer',
        '8005': 'Trailblazer',
        '8006': 'Trailblazer'
      };
      return names[avatarId] || `Unknown`;
    }

    // Auto-fetch profile on page load
    window.addEventListener('load', () => {
      fetchHSRProfile(defaultUID);
    });
  </script>
</body>

</html>

